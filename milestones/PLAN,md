# ğŸ§± HTTP Server in C â€” Project Plan

**Goal:**

Build a minimal but real HTTP/1.1 server using **POSIX sockets**, structured like a real systems project.

---

## 0ï¸âƒ£ Project Rules (important)

- C99
- No external libraries
- Linux / macOS
- Compile with `Wall -Wextra -Werror`
- One responsibility per module
- Every milestone must compile & run

---

## ğŸ“ Project Structure

```
http-server-c/
â”œâ”€â”€ Makefile
â”œâ”€â”€ README.md
â”œâ”€â”€ include/
â”‚   â”œâ”€â”€ server.h
â”‚   â”œâ”€â”€ socket.h
â”‚   â”œâ”€â”€ http.h
â”‚   â”œâ”€â”€ router.h
â”‚   â””â”€â”€ utils.h
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.c
â”‚   â”œâ”€â”€ server.c
â”‚   â”œâ”€â”€ socket.c
â”‚   â”œâ”€â”€ http.c
â”‚   â”œâ”€â”€ router.c
â”‚   â””â”€â”€ utils.c
â””â”€â”€ www/
    â”œâ”€â”€ index.html
    â””â”€â”€ 404.html

```

---

## ğŸŸ© Milestone 1 â€” TCP Server Core

**Goal:** accept a single client and reply.

### Tasks

- Create socket
- Bind to port
- Listen
- Accept connection
- Read bytes
- Write bytes
- Close connection

### Output

- `curl http://localhost:8080` works
- Always returns `"Hello World"`

---

## ğŸŸ© Milestone 2 â€” HTTP Parsing (Minimal)

**Goal:** understand HTTP, not fully implement it.

### Implement

```c
struct http_request {
    char method[8];
    char path[256];
};
```

### Tasks

- Parse request line:
    
    ```
    GET /index.html HTTP/1.1
    
    ```
    
- Ignore headers (for now)
- Reject non-GET methods

### Output

- Correct method & path extraction

---

## ğŸŸ© Milestone 3 â€” Response Builder

**Goal:** generate valid HTTP responses.

### Implement

```c
void send_response(int fd, int status, const char *body);
```

### Handle

- `200 OK`
- `404 Not Found`
- Proper headers
- Correct `Content-Length`

---

## ğŸŸ© Milestone 4 â€” Static File Server

**Goal:** serve real files from disk.

### Tasks

- Map URL â†’ file path
- Prevent directory traversal (`../`)
- Read file
- Send contents
- Serve HTML files

### Output

- Browser loads `index.html`

---

## ğŸŸ© Milestone 5 â€” Router

**Goal:** basic routing logic.

### Routes

- `/` â†’ `index.html`
- `/health` â†’ plain text
- `/echo` â†’ returns request info

### Implement

```c
typedef void (*route_handler)(int client_fd);
```

---

## ğŸŸ© Milestone 6 â€” Multi-Client Support (SELECT)

**Goal:** handle multiple clients without threads.

### Tasks

- Use `select()`
- Track active sockets
- Non-blocking I/O
- Clean disconnect handling

### Output

- Multiple browsers connect simultaneously

---

## ğŸŸ© Milestone 7 â€” Robustness

**Goal:** make it stable.

### Tasks

- Handle malformed requests
- Handle partial reads
- Avoid crashes
- Clean shutdown

---

## ğŸŸ© Milestone 8 â€” Logging & Errors

**Goal:** production discipline.

### Tasks

- Central error handling
- Request logging
- Status code logging

---

## ğŸ›‘ STOP HERE

Once you finish **Milestone 6â€“8**, you are **DONE with HTTP in C**.

No HTTPS.

No HTTP/2.

No performance tuning.

Those belong to Go/Rust.

---

## ğŸ§  What You Will Learn (this is the point)

- How HTTP actually works
- TCP socket lifecycle
- File descriptor management
- Event-driven servers
- Why frameworks exist

---

